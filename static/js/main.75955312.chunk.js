(this.webpackJsonptest_task=this.webpackJsonptest_task||[]).push([[0],{12:function(e,t,n){e.exports=n(25)},17:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),s=n.n(c),u=(n(17),n(3)),o=n(1),i=function(){return function(e){fetch("http://77.120.241.80:8911/api/users").then((function(e){return e.json()})).catch((function(e){return alert(e)})).then((function(t){e(function(e){return{type:"GET_USERS_LIST",payload:{usersList:e}}}(t))}))}},l=n(5),f=(n(24),function(e){var t=e.onCreateUser,n=e.onChangeUser,c=e.headerText,s=e.cancelForm,o=e.clickedElement,i=Object(a.useState)(""),l=Object(u.a)(i,2),f=l[0],m=l[1],d=Object(a.useState)(""),h=Object(u.a)(d,2),p=h[0],b=h[1];return r.a.createElement("form",{className:"form"},r.a.createElement("h2",null,c),r.a.createElement("input",{className:"form__input",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:f,onChange:function(e){return m(e.target.value)}}),r.a.createElement("input",{className:"form__input",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:p,onChange:function(e){return b(e.target.value)}}),r.a.createElement("div",{className:"form__buttons-wrapper"},r.a.createElement("button",{className:"form__button",onClick:function(e){e.preventDefault(),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"===c?t(f,p):n(o,f,p),s(!1,"")}},"OK"),r.a.createElement("button",{className:"form__button",onClick:function(){return s(!1,"")}},"Cancel")))}),m={getUsersList:i,onCreateUser:function(e,t){var n={name:e,surname:t,desc:"desc"};return function(e){var t;(t=n,fetch("http://77.120.241.80:8911/api/users",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(t)})).then((function(){return e(i())}))}},onDeleteUser:function(e){return function(t){(function(e){return fetch("http://77.120.241.80:8911/api/user/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8"}}).catch((function(e){return alert(e)}))})(e).then((function(e){return t(i())}))}},onChangeUser:function(e,t,n){var a={};return function(r,c){var s=c().usersList.usersList.usersList.find((function(t){return t.id===e}));t||(a=Object(o.a)(Object(o.a)({},s),{},{surname:n})),n||(a=Object(o.a)(Object(o.a)({},s),{},{name:t})),t||n||(a=Object(o.a)({},s)),t&&n&&(a=Object(o.a)(Object(o.a)({},s),{},{name:t,surname:n})),function(e,t){return console.log(e),fetch("http://77.120.241.80:8911/api/user/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(t)}).catch((function(e){return alert(e)}))}(e,a).then((function(){return r(i())}))}}},d=Object(l.b)((function(e){return{usersList:e.usersList}}),m)((function(e){var t=e.usersList,n=e.onCreateUser,c=e.getUsersList,s=e.onDeleteUser,o=e.onChangeUser,i=Object(a.useState)({opened:!1,headerText:""}),l=Object(u.a)(i,2),m=l[0],d=l[1],h=Object(a.useState)(""),p=Object(u.a)(h,2),b=p[0],E=p[1],_=Object(a.useState)(0),O=Object(u.a)(_,2),j=O[0],v=O[1];Object(a.useEffect)((function(){c()}),[]);var C=function(e,t,n){E(n),d({opened:e,headerText:t})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("button",{className:"header__create-user-button",onClick:function(){return C(!0,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")),r.a.createElement("div",{className:"users-list"},Object.keys(t.usersList).length&&t.usersList.usersList.slice(5*j,5*j+5).map((function(e){return r.a.createElement("div",{className:"users-list__wrapper",key:e.id},r.a.createElement("div",{className:"users-list__elem"},"".concat(e.name," - ").concat(e.surname)),r.a.createElement("div",{className:"users-list__edit",onClick:function(){return C(!0,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",e.id)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement("div",{className:"users-list__delete",onClick:function(){return s(e.id)}},"+"))}))),r.a.createElement("footer",{className:"footer"},r.a.createElement("button",{className:"footer__button",onClick:function(){v(+j-1)},disabled:j<1},"<"),r.a.createElement("button",{className:"footer__button",onClick:function(){v(+j+1)},disabled:j>1},">")),m.opened&&r.a.createElement(f,{onCreateUser:n,onChangeUser:o,clickedElement:b,headerText:m.headerText,cancelForm:C}))})),h=n(2),p={usersList:{}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS_LIST":return Object(o.a)(Object(o.a)({},e),{},{usersList:t.payload});default:return e}},E=n(11),_=Object(h.c)({usersList:b}),O=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||h.d,j=Object(h.e)(_,O(Object(h.a)(E.a)));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:j},r.a.createElement(d,null))),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.75955312.chunk.js.map